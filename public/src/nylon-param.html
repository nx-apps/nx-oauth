<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="./../bower_components/app-route/app-location.html">

<dom-module id="nylon-param">
  <template>
    <app-location route="{{route}}"></app-location>
  </template>
  <script>
    Polymer({
      is:'nylon-param',
      properties:{
        pattern:{
          type:String
        },
        params:{
          type:Object,
          notify:true
        }
      },
      ready:function(){
        //console.log('a');
      },
      observers:[
        '_getParam(route)'
      ],
      _getParam:function(){
        var path = this.route.path;
        var params = path.split("/");
        var pattern = this.pattern;
        if(pattern){
          var getVar = pattern.split("/");
        }
        var getPrarams = {
          page:params[1]
        };
        if(getVar){
          getVar.map(function(obj,index){
                getPrarams[obj] = params[index+2];
          });
        }
        this.params = getPrarams;
      }
    });
  </script>
</dom-module>